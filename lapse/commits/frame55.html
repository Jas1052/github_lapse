<!DOCTYPE html><html><head><link rel='shortcut icon' href='../../www/img/favicon.ico' type='image/x-icon'/></head><body style='width:100%;height:100%;background-color:white;'><div style='font-family:Segoe UI;color:blue;font-size:50px;position:absolute;top:0;left:15px;'>55</div><div style='align-items:center;justify-content:center;'><pre><link rel='stylesheet' href='php-diff/examples/styles.css' type='text/css' charset='utf-8'/><table class="Differences DifferencesInline"><thead><tr><th>Old</th><th>New</th><th>Differences</th></tr></thead><tbody class="ChangeEqual"><tr><th>133</th><th>133</th><td class="Left">This allows tests of the server to be structured into test classes according to</td></tr><tr><th>134</th><th>134</th><td class="Left">the functionality being tested.</td></tr><tr><th>135</th><th>135</th><td class="Left"></td></tr></tbody><tbody class="ChangeInsert"><tr><th>&nbsp;</th><th>136</th><td class="Right"><ins>## Test scoped bindings</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>137</th><td class="Right"><ins>Occasionally you may wish to have one instance of a class per test and inject</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>138</th><td class="Right"><ins>this instance in multiple places in the object graph. In this case Guice's</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>139</th><td class="Right"><ins>default instance scope will not do. Fortunately Acai provides a `@TestScoped`</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>140</th><td class="Right"><ins>annotation which can be used to achieve exactly this.</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>141</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>142</th><td class="Right"><ins>For example we may define a module for using Webdriver (a popular browser</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>143</th><td class="Right"><ins>automation tool) in our tests like so:</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>144</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>145</th><td class="Right"><ins>```java</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>146</th><td class="Right"><ins>class WebdriverModule extends AbstractModule {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>147</th><td class="Right"><ins>&nbsp;private static final Duration MAX_WAIT = Duration.standardSeconds(5);</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>148</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>149</th><td class="Right"><ins>&nbsp;@Override</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>150</th><td class="Right"><ins>&nbsp;protected void configure() {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>151</th><td class="Right"><ins>&nbsp; &nbsp;install(new TestingServiceModule() {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>152</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp;@Override protected void configureTestingServices() {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>153</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp; &nbsp;bindTestingService(WebDriverQuitter.class);</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>154</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp;}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>155</th><td class="Right"><ins>&nbsp; &nbsp;});</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>156</th><td class="Right"><ins>&nbsp;}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>157</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>158</th><td class="Right"><ins>&nbsp;@Provides</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>159</th><td class="Right"><ins>&nbsp;@TestScoped</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>160</th><td class="Right"><ins>&nbsp;WebDriver provideWebDriver() {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>161</th><td class="Right"><ins>&nbsp; &nbsp;// Provide the driver here; precisely one instance will be</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>162</th><td class="Right"><ins>&nbsp; &nbsp;// created per test case.</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>163</th><td class="Right"><ins>&nbsp;}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>164</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>165</th><td class="Right"><ins>&nbsp;@Provides</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>166</th><td class="Right"><ins>&nbsp;WebDriverWait provideWait(WebDriver webDriver) {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>167</th><td class="Right"><ins>&nbsp; &nbsp;return new WebDriverWait(webDriver, MAX_WAIT.getStandardSeconds());</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>168</th><td class="Right"><ins>&nbsp;}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>169</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>170</th><td class="Right"><ins>&nbsp;static class WebDriverQuitter implements TestingService {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>171</th><td class="Right"><ins>&nbsp; &nbsp;@Inject Provider&lt;WebDriver&gt; webDriver;</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>172</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>173</th><td class="Right"><ins>&nbsp; &nbsp;@AfterTest void quitWebDriver() throws Exception {</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>174</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp;// Calling get on the Provider here returns the instance</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>175</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp;// for the test case which we are currently tearing down.</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>176</th><td class="Right"><ins>&nbsp; &nbsp; &nbsp;webDriver.get().quit();</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>177</th><td class="Right"><ins>&nbsp; &nbsp;}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>178</th><td class="Right"><ins>&nbsp;}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>179</th><td class="Right"><ins>}</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>180</th><td class="Right"><ins>```</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>181</th><td class="Right"><ins></ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>182</th><td class="Right"><ins>One important point to note when using `@TestScoped` bindings is that</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>183</th><td class="Right"><ins>`TestingService` instances are instantiated once for all tests outside of test</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>184</th><td class="Right"><ins>scope. Therefore if you wish to access `@TestScoped` bindings in a</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>185</th><td class="Right"><ins>`@BeforeTest` or `@AfterTest` method you should inject a `Provider` and call</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>186</th><td class="Right"><ins>`get` on it within those methods as shown in the above example.</ins>&nbsp;</td></tr><tr><th>&nbsp;</th><th>187</th><td class="Right"><ins></ins>&nbsp;</td></tr></tbody><tbody class="ChangeEqual"><tr><th>136</th><th>188</th><td class="Left">## Services which depend upon each other</td></tr><tr><th>137</th><th>189</th><td class="Left">If the services you need to start for tests must be started in a specific order</td></tr><tr><th>138</th><th>190</th><td class="Left">you can express this using the `@DependsOn` annotation.</td></tr></tbody><tbody class="Skipped"><th>&hellip;</th><th>&hellip;</th><td>&nbsp;</td></tbody><tbody class="ChangeEqual"><tr><th>193</th><th>245</th><td class="Left">`@DependsOn(MyBackendRunner.class)` which will cause Acai to start the</td></tr><tr><th>194</th><th>246</th><td class="Left">backend server before starting the frontend.</td></tr><tr><th>195</th><th>247</th><td class="Left"></td></tr></tbody><tbody class="ChangeDelete"><tr><th>196</th><th>&nbsp;</th><td class="Left"><del>## Test scoped bindings</del>&nbsp;</td></tr><tr><th>197</th><th>&nbsp;</th><td class="Left"><del>Occasionally you may wish to have one instance of a class per test and inject</del>&nbsp;</td></tr><tr><th>198</th><th>&nbsp;</th><td class="Left"><del>this instance in multiple places in the object graph. In this case Guice's</del>&nbsp;</td></tr><tr><th>199</th><th>&nbsp;</th><td class="Left"><del>default instance scope will not do. Fortunately Acai provides a `@TestScoped`</del>&nbsp;</td></tr><tr><th>200</th><th>&nbsp;</th><td class="Left"><del>annotation which can be used to achieve exactly this.</del>&nbsp;</td></tr><tr><th>201</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>202</th><th>&nbsp;</th><td class="Left"><del>For example we may define a module for using Webdriver (a popular browser</del>&nbsp;</td></tr><tr><th>203</th><th>&nbsp;</th><td class="Left"><del>automation tool) in our tests like so:</del>&nbsp;</td></tr><tr><th>204</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>205</th><th>&nbsp;</th><td class="Left"><del>```java</del>&nbsp;</td></tr><tr><th>206</th><th>&nbsp;</th><td class="Left"><del>class WebdriverModule extends AbstractModule {</del>&nbsp;</td></tr><tr><th>207</th><th>&nbsp;</th><td class="Left"><del>&nbsp;private static final Duration MAX_WAIT = Duration.standardSeconds(5);</del>&nbsp;</td></tr><tr><th>208</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>209</th><th>&nbsp;</th><td class="Left"><del>&nbsp;@Override</del>&nbsp;</td></tr><tr><th>210</th><th>&nbsp;</th><td class="Left"><del>&nbsp;protected void configure() {</del>&nbsp;</td></tr><tr><th>211</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;install(new TestingServiceModule() {</del>&nbsp;</td></tr><tr><th>212</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp;@Override protected void configureTestingServices() {</del>&nbsp;</td></tr><tr><th>213</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp; &nbsp;bindTestingService(WebDriverQuitter.class);</del>&nbsp;</td></tr><tr><th>214</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp;}</del>&nbsp;</td></tr><tr><th>215</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;});</del>&nbsp;</td></tr><tr><th>216</th><th>&nbsp;</th><td class="Left"><del>&nbsp;}</del>&nbsp;</td></tr><tr><th>217</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>218</th><th>&nbsp;</th><td class="Left"><del>&nbsp;@Provides</del>&nbsp;</td></tr><tr><th>219</th><th>&nbsp;</th><td class="Left"><del>&nbsp;@TestScoped</del>&nbsp;</td></tr><tr><th>220</th><th>&nbsp;</th><td class="Left"><del>&nbsp;WebDriver provideWebDriver() {</del>&nbsp;</td></tr><tr><th>221</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;// Provide the driver here; precisely one instance will be</del>&nbsp;</td></tr><tr><th>222</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;// created per test case.</del>&nbsp;</td></tr><tr><th>223</th><th>&nbsp;</th><td class="Left"><del>&nbsp;}</del>&nbsp;</td></tr><tr><th>224</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>225</th><th>&nbsp;</th><td class="Left"><del>&nbsp;@Provides</del>&nbsp;</td></tr><tr><th>226</th><th>&nbsp;</th><td class="Left"><del>&nbsp;WebDriverWait provideWait(WebDriver webDriver) {</del>&nbsp;</td></tr><tr><th>227</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;return new WebDriverWait(webDriver, MAX_WAIT.getStandardSeconds());</del>&nbsp;</td></tr><tr><th>228</th><th>&nbsp;</th><td class="Left"><del>&nbsp;}</del>&nbsp;</td></tr><tr><th>229</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>230</th><th>&nbsp;</th><td class="Left"><del>&nbsp;static class WebDriverQuitter implements TestingService {</del>&nbsp;</td></tr><tr><th>231</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;@Inject Provider&lt;WebDriver&gt; webDriver;</del>&nbsp;</td></tr><tr><th>232</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>233</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;@AfterTest void quitWebDriver() throws Exception {</del>&nbsp;</td></tr><tr><th>234</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp;// Calling get on the Provider here returns the instance</del>&nbsp;</td></tr><tr><th>235</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp;// for the test case which we are currently tearing down.</del>&nbsp;</td></tr><tr><th>236</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp; &nbsp;webDriver.get().quit();</del>&nbsp;</td></tr><tr><th>237</th><th>&nbsp;</th><td class="Left"><del>&nbsp; &nbsp;}</del>&nbsp;</td></tr><tr><th>238</th><th>&nbsp;</th><td class="Left"><del>&nbsp;}</del>&nbsp;</td></tr><tr><th>239</th><th>&nbsp;</th><td class="Left"><del>}</del>&nbsp;</td></tr><tr><th>240</th><th>&nbsp;</th><td class="Left"><del>```</del>&nbsp;</td></tr><tr><th>241</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr><tr><th>242</th><th>&nbsp;</th><td class="Left"><del>One important point to note when using `@TestScoped` bindings is that</del>&nbsp;</td></tr><tr><th>243</th><th>&nbsp;</th><td class="Left"><del>`TestingService` instances are instantiated once for all tests outside of test</del>&nbsp;</td></tr><tr><th>244</th><th>&nbsp;</th><td class="Left"><del>scope. Therefore if you wish to access `@TestScoped` bindings in a</del>&nbsp;</td></tr><tr><th>245</th><th>&nbsp;</th><td class="Left"><del>`@BeforeTest` or `@AfterTest` method you should inject a `Provider` and call</del>&nbsp;</td></tr><tr><th>246</th><th>&nbsp;</th><td class="Left"><del>`get` on it within those methods as shown in the above example.</del>&nbsp;</td></tr><tr><th>247</th><th>&nbsp;</th><td class="Left"><del></del>&nbsp;</td></tr></tbody><tbody class="ChangeEqual"><tr><th>248</th><th>248</th><td class="Left">## API</td></tr><tr><th>249</th><th>249</th><td class="Left">As shown in the above examples Acai has a relatively small API surface.</td></tr><tr><th>250</th><th>250</th><td class="Left">Firstly, and most importantly, there is the `Acai` rule class itself</td></tr></tbody></table></pre></div></body></html><script src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script><script>
    document.onkeydown = checkKey;
    function checkKey(e) {
        e = e || window.event;
      if (e.keyCode == '37') {
          var fileName = location.href.split('/').slice(-1); 
          fileName = fileName.toString();
          var dotIndex = fileName.indexOf('.');
          fileCount = fileName.substring(5, dotIndex);
          var count = parseInt(fileCount);
          count--;
          if(count>0){
            document.location.href = 'frame' + count + '.html';
         }
        }
        else if (e.keyCode == '39') {
           // right arrow
           var fileName = location.href.split('/').slice(-1); 
           fileName = fileName.toString();
           var dotIndex = fileName.indexOf('.');
           fileCount = fileName.substring(5, dotIndex);
           var count = parseInt(fileCount);
           count++;
          $.get('frame'+count+'.html')
            .done(function() { 
              document.location.href = 'frame' + count + '.html';
            }).fail(function() { 
                  // not exists code
            })
          }
      }

    </script>